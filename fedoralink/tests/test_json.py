import django

from fedoralink.manager import ELASTICSEARCH

django.setup()

import logging
import unittest.util

from fedoralink.tests.testserver.testapp.models import JsonModel
from fedoralink.tests.utils import FedoralinkTestBase

logging.basicConfig(level=logging.DEBUG)
logging.getLogger('elasticsearch.trace').propagate = True

unittest.util._MAX_LENGTH = 2000

import json


class TestJson(FedoralinkTestBase):
    """
    Test storing and retrieving json fields
    """

    def test_json(self):
        o = JsonModel.objects.create(json_single={'a': 1})

        o2 = JsonModel.objects.get(fedora_id=o.fedora_id)
        self.assertDictEqual(o.json_single, o2.json_single)

        o2 = JsonModel.objects.via(ELASTICSEARCH).get(fedora_id=o.fedora_id)
        self.assertDictEqual(o.json_single, o2.json_single)

        o.json_single = {'b': 1}
        o.save()

        o2 = JsonModel.objects.get(fedora_id=o.fedora_id)
        self.assertDictEqual(o.json_single, o2.json_single)

        o.json_multiple = [
            {'a': 1},
            {'b': 2}
        ]
        o.save()

        o2 = JsonModel.objects.get(fedora_id=o.fedora_id)
        self.assertDictEqual({'a': 1} if 'a' in o2.json_multiple[0] else {'b': 2}, o2.json_multiple[0])
        self.assertDictEqual({'a': 1} if 'a' in o2.json_multiple[1] else {'b': 2}, o2.json_multiple[1])

        o.json_multiple = [
            {'b': 1},
            {'a': 2}
        ]
        o.save()

        o2 = JsonModel.objects.get(fedora_id=o.fedora_id)
        self.assertDictEqual({'a': 2} if 'a' in o2.json_multiple[0] else {'b': 1}, o2.json_multiple[0])
        self.assertDictEqual({'a': 2} if 'a' in o2.json_multiple[1] else {'b': 1}, o2.json_multiple[1])

    def test_big_json(self):
        big_json = '{"title": {"type": "TextField", "fedora_options": {"field": {"name": "title", "verbose_name": "Title", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 30, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "title", "column": "title", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "creator": {"type": "TextField", "fedora_options": {"field": {"name": "creator", "verbose_name": "Creator", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 31, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "creator", "column": "creator", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "subject": {"type": "CharField", "fedora_options": {"field": {"name": "subject", "verbose_name": "Subject", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 32, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140619ae48>]", "attname": "subject", "column": "subject", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "description": {"type": "TextField", "fedora_options": {"field": {"name": "description", "verbose_name": "Description", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 33, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "description", "column": "description", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "publisher": {"type": "CharField", "fedora_options": {"field": {"name": "publisher", "verbose_name": "Publisher", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 34, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140619af60>]", "attname": "publisher", "column": "publisher", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "contributor": {"type": "CharField", "fedora_options": {"field": {"name": "contributor", "verbose_name": "Contributor", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 35, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140619afd0>]", "attname": "contributor", "column": "contributor", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "date": {"type": "CharField", "fedora_options": {"field": {"name": "date", "verbose_name": "Date", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 36, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a40f0>]", "attname": "date", "column": "date", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "type": {"type": "CharField", "fedora_options": {"field": {"name": "type", "verbose_name": "Type", "primary_key": false, "max_length": 20, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "Text", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [["Collection", "Collection"], ["Dataset", "Dataset"], ["Event", "Event"], ["Image", "Image"], ["InteractiveResource", "InteractiveResource"], ["Service", "Service"], ["Software", "Software"], ["Sound", "Sound"], ["Text", "Text"], ["PhysicalObject", "PhysicalObject"]], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 37, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4208>]", "attname": "type", "column": "type", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "identifier": {"type": "CharField", "fedora_options": {"field": {"name": "identifier", "verbose_name": "Identifier", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 39, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4390>]", "attname": "identifier", "column": "identifier", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "source": {"type": "CharField", "fedora_options": {"field": {"name": "source", "verbose_name": "Source", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "<class \"django.db.models.fields.NOT_PROVIDED\">", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 40, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a44a8>]", "attname": "source", "column": "source", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "language": {"type": "CharField", "fedora_options": {"field": {"name": "language", "verbose_name": "Language", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "<class \"django.db.models.fields.NOT_PROVIDED\">", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 41, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a45c0>]", "attname": "language", "column": "language", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "relation": {"type": "TextField", "fedora_options": {"field": {"name": "relation", "verbose_name": "Relation", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 42, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "relation", "column": "relation", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "coverage": {"type": "CharField", "fedora_options": {"field": {"name": "coverage", "verbose_name": "Coverage", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 43, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4780>]", "attname": "coverage", "column": "coverage", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "rights": {"type": "TextField", "fedora_options": {"field": {"name": "rights", "verbose_name": "Rights", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 44, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "rights", "column": "rights", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "abstract": {"type": "TextField", "fedora_options": {"field": {"name": "abstract", "verbose_name": "Abstract", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 45, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "abstract", "column": "abstract", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "accessRights": {"type": "CharField", "fedora_options": {"field": {"name": "accessRights", "verbose_name": "accessRights", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 46, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4978>]", "attname": "accessRights", "column": "accessRights", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "accrualMethod": {"type": "CharField", "fedora_options": {"field": {"name": "accrualMethod", "verbose_name": "accrualMethod", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 47, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4a20>]", "attname": "accrualMethod", "column": "accrualMethod", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "accrualPeriodicity": {"type": "CharField", "fedora_options": {"field": {"name": "accrualPeriodicity", "verbose_name": "accrualPeriodicity", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 48, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4ac8>]", "attname": "accrualPeriodicity", "column": "accrualPeriodicity", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "accrualPolicy": {"type": "CharField", "fedora_options": {"field": {"name": "accrualPolicy", "verbose_name": "accrualPolicy", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 49, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4b70>]", "attname": "accrualPolicy", "column": "accrualPolicy", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "alternative": {"type": "TextField", "fedora_options": {"field": {"name": "alternative", "verbose_name": "Alternative", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 50, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "alternative", "column": "alternative", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "audience": {"type": "CharField", "fedora_options": {"field": {"name": "audience", "verbose_name": "Audience", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 51, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4d30>]", "attname": "audience", "column": "audience", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "available": {"type": "CharField", "fedora_options": {"field": {"name": "available", "verbose_name": "Available", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 52, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4e48>]", "attname": "available", "column": "available", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "bibliographicCitation": {"type": "TextField", "fedora_options": {"field": {"name": "bibliographicCitation", "verbose_name": "Bibliography", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 53, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "bibliographicCitation", "column": "bibliographicCitation", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "conformsTo": {"type": "CharField", "fedora_options": {"field": {"name": "conformsTo", "verbose_name": "conformsTo", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 54, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4f98>]", "attname": "conformsTo", "column": "conformsTo", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "created": {"type": "CharField", "fedora_options": {"field": {"name": "created", "verbose_name": "Created", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 55, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c0f0>]", "attname": "created", "column": "created", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "dateAccepted": {"type": "CharField", "fedora_options": {"field": {"name": "dateAccepted", "verbose_name": "Accepted", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 56, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c208>]", "attname": "dateAccepted", "column": "dateAccepted", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "dateCopyrighted": {"type": "CharField", "fedora_options": {"field": {"name": "dateCopyrighted", "verbose_name": "Copyrighted", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 57, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c320>]", "attname": "dateCopyrighted", "column": "dateCopyrighted", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "dateSubmitted": {"type": "CharField", "fedora_options": {"field": {"name": "dateSubmitted", "verbose_name": "Submitted", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 58, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c438>]", "attname": "dateSubmitted", "column": "dateSubmitted", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "educationLevel": {"type": "CharField", "fedora_options": {"field": {"name": "educationLevel", "verbose_name": "Submitted", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 59, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c550>]", "attname": "educationLevel", "column": "educationLevel", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "extent": {"type": "CharField", "fedora_options": {"field": {"name": "extent", "verbose_name": "Extent", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 60, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c668>]", "attname": "extent", "column": "extent", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "dformat": {"type": "CharField", "fedora_options": {"field": {"name": "dformat", "verbose_name": "Format", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 61, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c780>]", "attname": "dformat", "column": "dformat", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "hasFormat": {"type": "CharField", "fedora_options": {"field": {"name": "hasFormat", "verbose_name": "hasFormat", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 62, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061a4198>]", "attname": "hasFormat", "column": "hasFormat", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "hasPart": {"type": "CharField", "fedora_options": {"field": {"name": "hasPart", "verbose_name": "hasPart", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 63, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c828>]", "attname": "hasPart", "column": "hasPart", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "hasVersion": {"type": "CharField", "fedora_options": {"field": {"name": "hasVersion", "verbose_name": "hasVersion", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 64, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c8d0>]", "attname": "hasVersion", "column": "hasVersion", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "instructionalMethod": {"type": "TextField", "fedora_options": {"field": {"name": "instructionalMethod", "verbose_name": "instructionalMethod", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 65, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "instructionalMethod", "column": "instructionalMethod", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "isFormatOf": {"type": "CharField", "fedora_options": {"field": {"name": "isFormatOf", "verbose_name": "isFormatOf", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 66, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612c9b0>]", "attname": "isFormatOf", "column": "isFormatOf", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "isPartOf": {"type": "CharField", "fedora_options": {"field": {"name": "isPartOf", "verbose_name": "isPartOf", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 67, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612ca58>]", "attname": "isPartOf", "column": "isPartOf", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "isReferencedBy": {"type": "CharField", "fedora_options": {"field": {"name": "isReferencedBy", "verbose_name": "isReferencedBy", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 68, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612cb00>]", "attname": "isReferencedBy", "column": "isReferencedBy", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "isReplacedBy": {"type": "CharField", "fedora_options": {"field": {"name": "isReplacedBy", "verbose_name": "isReplacedBy", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 69, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612cba8>]", "attname": "isReplacedBy", "column": "isReplacedBy", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "isRequiredBy": {"type": "CharField", "fedora_options": {"field": {"name": "isRequiredBy", "verbose_name": "isRequiredBy", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 70, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612cc50>]", "attname": "isRequiredBy", "column": "isRequiredBy", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "issued": {"type": "CharField", "fedora_options": {"field": {"name": "issued", "verbose_name": "Issued", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 71, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612cd68>]", "attname": "issued", "column": "issued", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "isVersionOf": {"type": "CharField", "fedora_options": {"field": {"name": "isVersionOf", "verbose_name": "isVersionOf", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 72, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612ce10>]", "attname": "isVersionOf", "column": "isVersionOf", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "license": {"type": "TextField", "fedora_options": {"field": {"name": "license", "verbose_name": "License", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 73, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "license", "column": "license", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "mediator": {"type": "CharField", "fedora_options": {"field": {"name": "mediator", "verbose_name": "Mediator", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 74, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f140612cfd0>]", "attname": "mediator", "column": "mediator", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "medium": {"type": "CharField", "fedora_options": {"field": {"name": "medium", "verbose_name": "Medium", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 75, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f1406133128>]", "attname": "medium", "column": "medium", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "modified": {"type": "CharField", "fedora_options": {"field": {"name": "modified", "verbose_name": "Issued", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 76, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f1406133240>]", "attname": "modified", "column": "modified", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "provenance": {"type": "TextField", "fedora_options": {"field": {"name": "provenance", "verbose_name": "Provenance", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 77, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "provenance", "column": "provenance", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "references": {"type": "CharField", "fedora_options": {"field": {"name": "references", "verbose_name": "References", "primary_key": false, "max_length": 255, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 78, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f1406133400>]", "attname": "references", "column": "references", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "replaces": {"type": "CharField", "fedora_options": {"field": {"name": "replaces", "verbose_name": "replaces", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 79, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061334a8>]", "attname": "replaces", "column": "replaces", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "requires": {"type": "CharField", "fedora_options": {"field": {"name": "requires", "verbose_name": "requires", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 80, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f1406133550>]", "attname": "requires", "column": "requires", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "rightsHolder": {"type": "CharField", "fedora_options": {"field": {"name": "rightsHolder", "verbose_name": "rightsHolder", "primary_key": false, "max_length": 225, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 81, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f14061335f8>]", "attname": "rightsHolder", "column": "rightsHolder", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "spatial": {"type": "TextField", "fedora_options": {"field": {"name": "spatial", "verbose_name": "Spatial", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 82, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "spatial", "column": "spatial", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "tableOfContents": {"type": "TextField", "fedora_options": {"field": {"name": "tableOfContents", "verbose_name": "TableOfContents", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 83, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "tableOfContents", "column": "tableOfContents", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "temporal": {"type": "TextField", "fedora_options": {"field": {"name": "temporal", "verbose_name": "Temporal", "primary_key": false, "max_length": null, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 84, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "attname": "temporal", "column": "temporal", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}, "valid": {"type": "CharField", "fedora_options": {"field": {"name": "valid", "verbose_name": "Valid", "primary_key": false, "max_length": 128, "blank": false, "null": false, "remote_field": null, "is_relation": false, "default": "", "editable": true, "serialize": true, "unique_for_date": null, "unique_for_month": null, "unique_for_year": null, "choices": [], "help_text": "", "db_index": false, "db_column": null, "db_tablespace": "", "auto_created": false, "creation_counter": 85, "error_messages": "{\"invalid_choice\": \"Value %(value)r is not a valid choice.\", \"null\": \"This field cannot be null.\", \"blank\": \"This field cannot be blank.\", \"unique\": \"%(model_name)s with this %(field_label)s already exists.\", \"unique_for_date\": \"%(field_label)s must be unique for %(date_field_label)s %(lookup_type)s.\"}", "validators": "[<django.core.validators.MaxLengthValidator object at 0x7f1406133908>]", "attname": "valid", "column": "valid", "concrete": true}, "rdf_namespace": "http://purl.org/dc/elements/1.1/", "_rdf_name": null}}}'
        o = JsonModel.objects.create(json_single={'a': {str(x):str(x) for x in range(100000)},
                                                  'b': {str(x):'0000000%s' % x for x in range(10000)},
                                                  'big_json': big_json})


        o2 = JsonModel.objects.get(fedora_id=o.fedora_id)
        self.assertEqual(json.dumps(o.json_single, sort_keys=True), json.dumps(o2.json_single, sort_keys=True))

        o2 = JsonModel.objects.via(ELASTICSEARCH).get(fedora_id=o.fedora_id)
        self.assertEqual(json.dumps(o.json_single, sort_keys=True), json.dumps(o2.json_single, sort_keys=True))
